!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("riskDataCollector",[],t):"object"==typeof exports?exports.riskDataCollector=t():e.riskDataCollector=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return{}.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"persistRiskData",(function(){return m})),n.d(t,"collectRiskData",(function(){return g}));var r="Call was rejected by callee.\r\n";function o(e){return void 0===e&&(e=window),"about:"===e.location.protocol}function i(e){try{return!0}catch(e){}return!1}function a(e){void 0===e&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if("file:"===n)return"file://";if("about:"===n){var r=function(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}(e);return r&&i()?a(r):"about://"}var o=t.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function c(e){void 0===e&&(e=window);var t=a(e);return t&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:t}var d=[],u=[];function f(e,t){void 0===t&&(t=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==r}if(t&&function(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(o(e)&&i())return!0}catch(e){}try{if(a(e)===a(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(o(e)&&i())return!0;if(c(window)===c(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(d,e);if(-1!==n){var f=u[n];if(f&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;if(t&&t.documentElement&&!t.documentElement.contains(e)){for(var n=e;n.parentNode&&n.parentNode!==n;)n=n.parentNode;if(!n.host||!t.documentElement.contains(n.host))return!0}return!1}(f))return!0}return!1}function w(e){try{if(e===window)return!0}catch(e){if(e&&e.message===r)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===r)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===r)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===r)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===r)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===r)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}return!1}function s(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var l,p=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(w(r)&&f(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},t.isSafeToReadWrite=function(e){return!w(e)},t.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=t:Object.defineProperty(e,r,{value:[e,t],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,a=this.values,c=s(i,e);-1===c?(i.push(e),a.push(t)):a[c]=t},t.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return n&&n[0]===e?n[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=s(this.keys,e);if(-1!==r)return this.values[r]},t.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=s(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},t.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return!(!n||n[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==s(this.keys,e)},t.getOrSet=function(e,t){if(this.has(e))return this.get(e);var n=t();return this.set(e,n),n},e}();function h(e){try{return JSON.stringify([].slice.call(e),(function(e,t){return"function"==typeof t?"memoize["+function(e){if(l=l||new p,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var t,n=l.get(e);return n||(n=typeof e+":"+(t="0123456789abcdef","xxxxxxxxxx".replace(/./g,(function(){return t.charAt(Math.floor(Math.random()*t.length))}))+"_"+function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()),l.set(e,n)),n}(t)+"]":t}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function v(){return function(e,t,n){void 0===n&&(n=[]);var r=e.__inline_memoize_cache__=e.__inline_memoize_cache__||{},o=h(n);return r.hasOwnProperty(o)?r[o]:r[o]=function(){try{if("undefined"==typeof window)return!1;if(window.localStorage){var e=Math.random().toString();window.localStorage.setItem("__test__localStorage__",e);var t=window.localStorage.getItem("__test__localStorage__");if(window.localStorage.removeItem("__test__localStorage__"),e===t)return!0}}catch(e){}return!1}.apply(void 0,n)}(v)}function m(e){v()&&e&&window.localStorage.setItem("__paypal_risk_data__",e)}function g(e){var t,n,r=e.clientMetadataID,o=e.appSourceID,i={},a="",c=Date.now(),d=Date.now(),u=function(e){a+=e};return{correlationId:r,appId:o,payload:(v()&&window.localStorage.getItem("__paypal_risk_data__")&&(i.localStorageRiskData=window.localStorage.getItem("__paypal_risk_data__")),function(){var e,t=["appName","appVersion","buildID","cookieEnabled","language","onLine","oscpu","platform","product","productSub","userAgent","vendor","vendorSub"];for(i.navigator={},e=0;e<t.length;e+=1)i.navigator[t[e]]=window.navigator[t[e]],"userAgent"===t[e]&&u(window.navigator[t[e]]);void 0===window.navigator.language&&(i.navigator.language=window.navigator.browserLanguage)}(),function(){var e,t=["colorDepth","pixelDepth","height","width","availHeight","availWidth"];for(i.screen={},e=0;e<t.length;e+=1)i.screen[t[e]]=window.screen[t[e]],"colorDepth"!==t[e]&&"width"!==t[e]||u(window.screen[t[e]])}(),function(){var e,t=["outerHeight","outerWidth","innerHeight","innerWidth","devicePixelRatio"];for(i.window={},e=0;e<t.length;e+=1)i.window[t[e]]=window[t[e]]}(),i.referer=document.referrer,i.URL=document.URL,i.rvr="1.0.0",i.activeXDefined=void 0!==window.ActiveXObject,function(){var e,t=[0,0,0];if(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])try{!(e=navigator.plugins["Shockwave Flash"].description)||void 0!==navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(e=e.replace(/^[\w\W]*\s+(\S+\s+\S+$)/,"$1"),t[0]=parseInt(e.replace(/^([\w\W]*)\.[\w\W]*$/,"$1"),10),t[1]=parseInt(e.replace(/^[\w\W]*\.([\w\W]*)\s[\w\W]*$/,"$1"),10),t[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^[\w\W]*[a-zA-Z]+([\w\W]*)$/,"$1"),10):0)}catch(e){}else if(void 0!==window.ActiveXObject)try{var n=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash");n&&(e=n.GetVariable("$version"))&&(e=e.split(" ")[1].split(","),t[0]=parseInt(e[0],10),t[1]=parseInt(e[1],10),t[2]=parseInt(e[2],10))}catch(e){}i.flashVersion={major:t[0],minor:t[1],release:t[2]}}(),i.tz=-6e4*(new Date).getTimezoneOffset(),Intl.DateTimeFormat()&&Intl.DateTimeFormat().resolvedOptions()&&Intl.DateTimeFormat().resolvedOptions().timeZone&&(i.tzName=Intl.DateTimeFormat().resolvedOptions().timeZone),i.tzName&&u(i.tzName),i.dst=!0,t=Date.now(),u(t.toString()),i.time=t,i.pt1={pp1:(t-c).toFixed(2),cd1:(t-d).toFixed(2)},i.pt1.ph1=function(e){for(var t=0,n=0;n<e.length;n++)t+=e.charCodeAt(n);return t&t}(a).toFixed(2),i.pt1.sf=(n=[0,0,0,0],function(){try{if(function(e,t){var n=e.length,r=t.length;e:for(var o=0;o<=n-r;o++){for(var i=0;i<r;i++)if(t.charAt(i)!==e.charAt(o+i))continue e;return o}return-1}(window.navigator.userAgent.toLowerCase(),decodeURIComponent("%70%68%61%6E%74%6F%6D%6A%73"))>-1)return void(n[0]=1);n[0]=0}catch(e){n[0]=0}}(),function(){try{if(window.callPhantom||window._phantom||window.phantom)return void((n=n.concat(2))[1]=2);if(window.Buffer)return void(n[1]=3);if(window.emit)return void(n[1]=4);if(window.spawn)return void(n[1]=5);if(window.doAutomation||window.domAutomationController)return void(n[1]=6);n[1]=0}catch(e){n[1]=0}}(),function(){try{if(0===window.outerWidth&&0===window.outerHeight)return void(n[2]=1);n[2]=0}catch(e){n[2]=0}}(),function(){try{if(window.document.$cdc_asdjflasutopfhvcZLmcfl_.cache_)return void(n[3]=1)}catch(e){}try{if(window.document.documentElement.getAttribute(decodeURIComponent("%77%65%62%64%72%69%76%65%72")))return void(n[3]=1)}catch(e){}try{if(decodeURIComponent("%5F%53%65%6C%65%6E%69%75%6D%5F%49%44%45%5F%52%65%63%6F%72%64%65%72")in window)return void(n[3]=1)}catch(e){}try{if(decodeURIComponent("%5F%5F%77%65%62%64%72%69%76%65%72%5F%73%63%72%69%70%74%5F%66%6E")in document)return void(n[3]=1)}catch(e){}n[3]=0}(),n.join("")),i.pt1.tb=function(){try{if(window.opr&&window.opr.addons||window.opera)return 2;if("undefined"!=typeof InstallTrigger)return void 0!==window.orientation?10:3;if(void 0!==document.documentMode)return 5;if(void 0!==window.StyleMedia)return 6;if(window.chrome){if(!window.location.fragmentDirective&&window.clientInformation.plugins&&window.clientInformation.plugins.length>0&&window.clientInformation.plugins[0].name.indexOf("Edge")>=0)return 11;if(window.location.fragmentDirective&&window.clientInformation.plugins&&window.clientInformation.plugins.length>0&&window.clientInformation.plugins[0].name.indexOf("Chrome")>=0)return 1;if(void 0!==window.orientation)return 7}return void 0!==window.__firefox__?10:void 0!==window.__gCrWeb||void 0!==window.__crWeb||void 0!==window.FormControlElement?7:"undefined"!=typeof document&&void 0!==document.onwebkitmouseforcechanged||void 0!==window.webkitNotifications||{}.toString.call(window.HTMLElement).indexOf("Constructor")>0?void 0!==navigator.standalone&&void 0!==window.orientation?Boolean(navigator.mediaDevices)||window.statusbar&&window.statusbar.visible||window.indexedDB&&void 0!==window.indexedDB.deleteDatabase&&void 0!==window.Animation?window.webkit&&void 0!==window.webkit.messageHandlers?9:8:9:4:-1}catch(e){return-1}}(),i)}}Object.create(Error.prototype)}])}));
//# sourceMappingURL=paypal-risk-data-collector.js.map